You can use regex in the output sections.
More info here: https://github.com/manticoresoftware/clt#refine
––– input –––
(dockerd > /var/log/dockerd.log 2>&1 &) > /dev/null
––– output –––
––– input –––
timeout 60 tail -n 100 -f /var/log/dockerd.log | grep -qm1 'API listen on /var/run/docker.sock' && echo 'Done' || echo 'Timeout failed'
––– output –––
Done
––– input –––
docker ps
––– output –––
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
––– input –––
docker build --build-arg="DEV=1" -t manticoresoftware/manticore:current /docker/ > /dev/null 2>&1; echo $?
––– output –––
0
––– input –––
docker run -d -e "CREATE_PLAIN_TABLES=idx1:* * * * *" --name manticore -v $(pwd)/clt_tests/tests/base/manticore-indexer-desired.conf:/etc/manticoresearch/manticore.conf manticoresoftware/manticore:current
––– output –––
e0b6a97c310df7f484779e763754489bae24e1292b6066337cadc6f17a849aa4
––– input –––
timeout 5 docker logs -f manticore | grep -qm1 "accepting connections" && echo 'accepting connections' || echo 'Timeout failed'
––– output –––
accepting connections
––– input –––
docker exec manticore ls | grep idx | sort
––– output –––
––– input –––
sleep 65
––– output –––
––– input –––
docker exec manticore ls | grep idx | sort
––– output –––
idx1.new.spa
idx1.new.spd
idx1.new.spds
idx1.new.spe
idx1.new.sph
idx1.new.sphi
idx1.new.spi
idx1.new.spm
idx1.new.spp
idx1.new.spt
